<!doctype HTML>
<html lang="en">
<%- include('layouts/header') -%>
<body>
<%- include('layouts/navBar') -%>
<!--main body-->
<div class="container" style="margin-top: 110px; margin-bottom: 70px;">

    <section class="px-md-5 mx-md-5 text-center text-lg-left dark-grey-text">

        <!--Grid row-->
        <div class="row justify-content-center align-items-center">

            <div class="col-md-12 text-center pt-5">
                <h1 class="display-4 text-dark font-weight-bold mb-4">Upload A New Project</h1>
                <h2>This will showcase on the gallery page for all visitors to see.</h2>
                <form action="/store/project" method="post" enctype="multipart/form-data">
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <label for="title" class="form-label">Project Title</label>
                            <input type="text" name="title" id="title" class="form-control" />
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="url" class="form-label">Project URL</label>
                            <input type="url" name="url" id="url" class="form-control" />
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="summary" class="form-label">Project Summary</label>
                            <input type="text" name="summary" id="summary" class="form-control" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="featureList">
                                <div class="featureDiv">
                                    <input type="text" placeholder="Talk about the features" name="feature" id="feature" class="mb-2 form-control" />
                                </div>
                            </div>
                            <span>Add New Feature</span> <button type="button" class="btn btn-primary" id="addFeature">Add</button>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="image" class="form-label">Project Image</label>
                            <input type="file" name="image" id="image" class="form-control" accept="image/*" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 mb-3">
                            <label for="details" class="form-label">Project Details</label>
                            <textarea name="detail" id="details" class="form-control" rows="7"></textarea>
                        </div>
                    </div>
                    <button class="btn btn-primary mr-2" type="submit">submit post</button>
                </form>
                <script>
                    let addFeature = document.getElementById("addFeature");
                    let featureList = document.querySelector(".featureList");
                    let featureDiv = document.querySelectorAll(".featureDiv")[0];

                    addFeature.addEventListener('click', function(){
                        let newFeature = featureDiv.cloneNode(true);
                        let input = newFeature.getElementsByTagName('input')[0];
                        input.value = "";
                        featureList.appendChild(newFeature)
                    })
                </script>
            </div>

        </div>
        <!--Grid row-->

    </section>

</div>
<!--main body-->
<%- include('layouts/footer') -%>
</body>
<!--scripts-->
<%- include('layouts/scripts') -%>
</html>